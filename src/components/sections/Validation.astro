---
import FeatureList from "@components/FeatureList.astro";
import CodeSample from "@components/CodeSample.astro";

const features = [
  {
    title: "Blazing Speed",
    description:
      "Validate data at the speed of Rust. Orders of magnitude faster than JavaScript-based validation libraries.",
  },
  {
    title: "Detailed Validation",
    description:
      "Get precise error messages with path information. Know exactly what's wrong and where.",
  },
  {
    title: "Seamless Integration",
    description:
      "Works with any TypeScript codebase. Drop it in and start validating immediately.",
  },
];

const codeSnippet = `import { server, schema, t } from 'kitojs';
import type { Context } from 'kitojs'

const UserSchema = schema({
  params: t.object({ id: t.str().uuid() }),
  query: t.object({ limit: t.num().max(100).default(10) }),
  body: t.object({ name: t.str().min(1) }),
});

type Ctx = Context<typeof UserSchema>

app.post("/users/:id", [UserSchema], (ctx: Ctx) => {
  ctx.res.json({
    id: ctx.params.id,
    limit: ctx.query.limit,
    name: ctx.body.name
  });
});

app.listen(3000);`;
---

<section class="max-w-7xl mx-auto px-4 md:px-8 py-12 md:py-20">
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 md:gap-12 lg:gap-16 items-center">
    <div class="order-1 lg:order-1">
      <CodeSample filename="validation.ts" code={codeSnippet} />
    </div>
    <div class="order-2 lg:order-2">
      <h2 class="text-3xl md:text-4xl font-bold mb-6 md:mb-8">High-Performance Validation</h2>
      <FeatureList features={features} />
    </div>
  </div>
</section>