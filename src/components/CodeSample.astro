---
import { highlight } from "@utils/syntaxHighlight.ts";

interface Props {
  filename: string;
  code: string;
  raw?: boolean;
}

const { filename, code, raw = false } = Astro.props;
const highlightedCode = raw ? code : highlight(code);
---

<div class="bg-gray-900 rounded-lg p-4 md:p-6 overflow-hidden">
    <div class="flex items-center justify-between mb-3 md:mb-4">
        <div class="flex space-x-2">
            <div class="w-2.5 h-2.5 md:w-3 md:h-3 bg-red-500 rounded-full"></div>
            <div class="w-2.5 h-2.5 md:w-3 md:h-3 bg-yellow-500 rounded-full"></div>
            <div class="w-2.5 h-2.5 md:w-3 md:h-3 bg-green-500 rounded-full"></div>
        </div>
        <span class="text-xs md:text-sm text-gray-500 truncate ml-2">{filename}</span>
    </div>
    <div class="overflow-x-auto">
        <pre
            class="text-xs md:text-sm text-gray-300 leading-relaxed"><code set:html={highlightedCode} /></pre>
    </div>
</div>
